<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect to MySQL database from Node.js</title>
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Playfair+Display:700,400,900,400italic,700italic,900italic|Merriweather:400,300,700,900,300italic,400italic,700italic,900italic|Anonymous+Pro:400,700,400italic,700italic|Roboto:400,700' />
    <link rel='stylesheet' type='text/css' href='https://cdn.rawgit.com/google/code-prettify/master/styles/desert.css' />
    <link rel='stylesheet' type='text/css' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css' />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/default.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    


    
<div class="container">
    <div id="blog">
      <div id="title">
        <div class="pubdate">18 April 2020<hr/></div>
        <h1>Connect to MySQL database from Node.js</h1>
        <div class="byline">by Phoebe Yaheng Wu</div>
      </div>
      
    
      
      <!-- Article text -->
      <a class="named_anchor" name="2549202418499648455"></a>
      <div id="article">
        <div id="content">

       <p>If you’ve arrived here looking for a quick way to get up and running with MySQL in Node.js, I’ve got you covered! The first thing is to create a database and a database table to work with in MySQL workbench.</p>
       <div class="row justify-content-center">
        <div class="col-md-6">
<pre><code>DROP DATABASE IF EXISTS company_db;
CREATE DATABASE company_db;
USE company_db;<hr>CREATE TABLE customer(
    Customer_ID INT(10) AUTO_INCREMENT NOT NULL,
    Customer_Name VARCHAR(50) NOT NULL,
    Customer_City VARCHAR(25),
    Customer_State VARCHAR(5),
    PRIMARY KEY (Customer_ID)
);<hr>INSERT INTO customer (Customer_Name, Customer_City, Customer_State)
VALUES ("Daisy Hamilton", "Albany", "NY");
INSERT INTO customer (Customer_Name, Customer_City, Customer_State)
VALUES ("Juan Stone", "New York", "NY");            
INSERT INTO customer (Customer_Name, Customer_City, Customer_State)
VALUES ("Celia Byrd", "Chicago", "IL");<hr>SELECT * FROM customer;</code></pre>
        </div>
        </div>
       

        
        <p>Below is the output of the above SQL query. We've created a database and a database table in MySQL workbench.</p>
        <div class="row justify-content-center">
         <div class="col-md-6">
             <img class="mb-3" src="https://cdn.glitch.com/f28949c6-6f44-4abb-a9a1-6a9e90371a91%2FCapture.PNG?v=1587258398240" alt="">
         </div>
         </div>

   <p>Transite to Node.js, inside Visual Studio Code, a code editor, we’re using the command <strong>npm init -y</strong> to create a package.json file to start with. The -y flag means that npm will use defaults. This step assumes that you have Node and npm installed on your system.</p>


<div class="row justify-content-center">
    <div class="col-md-6 node">
<pre><code>npm init --y
</code></pre>
    
    </div>
    </div>
<p>After that, we’re installing the mysql module from npm and saving it as a project dependency.</p>

<div class="row justify-content-center">
    <div class="col-md-6 node">
<pre><code>npm install mysql --save
</code></pre>
    
    </div>
    </div>


    <p>First of all we need to require mysql module. Then we need to create connection to MySQL database. We are going to pass an object as function parameter. The object will contain the host, i.e. basically your database IP or domain name or localhost if we are trying to connect to our local database. Now, the user and password will be the username and password of your database which is used to log into your MySQL database. The database will be the name of the database we want to access. and Port by default is 3306 for MySQL. When establishing connection, you can set the following options:<br>
        host: The hostname of the database you are connecting to. (Default: localhost)<br>
        port: The port number to connect to. (Default: 3306)<br>
        user: The MySQL user. (Default: root if you didn't specifically set)<br>
        password: The password of the user in MySQL.<br>
        database: Name of the database to use for this connection (Optional).<br>
    Every method you invoke on a connection is queued and executed in sequence. Closing the connection is done using end().</p>

<div class="row justify-content-center">
    <div class="col-md-6 node">
<pre><code>const mysql = require("mysql");
const connection = mysql.createConnection({
        host: "localhost",
        port: 3306,
        user: "root",
        password: "secret",
        database: "company_db"
    });    
connection.connect();        
connection.query("SELECT * FROM customer", function(err, res) {
        if (err) throw err;
        console.log(res);
    });      
connection.end();
</code>
</pre>
    
    </div>
    </div>

    <p>Enter <strong>node app.js</strong> in command line to execute. On successful execution you should be able to see the table output as json format in console.</p>

    <div class="row justify-content-center">
        <div class="col-md-6 node">
<pre><code>node app.js
</code></pre>
        
        </div>
        </div>
    <p>Below is the output.</p>

    <div class="row justify-content-center">
        <div class="col-md-6">
            <img class="mb-3" src="https://cdn.glitch.com/f28949c6-6f44-4abb-a9a1-6a9e90371a91%2FCapture6.PNG?v=1587270470085" alt="">
        </div>
        </div>

        </div>
      </div>
    </div>
    </div>








    <!-- Footer -->
<footer class="page-footer font-small blue pt-4 pb-0 mb-0">
  
    <!-- Copyright -->
    <div class="footer-copyright text-center mb-0 pb-0">
      
        
        mysql. (2020, Jan 19). npm Documentation. Retrieved from <a href="https://www.npmjs.com/package/mysql">npmjs.com</a>
    </div>
    <!-- Copyright -->
  
  </footer>
  <!-- Footer -->

    <!-- Scripts --> 
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script> 
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/prettify.js"></script>
    <!-- Script for pocket button -->
    <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
    <!-- Print friendly -->
    <script>var pfHeaderImgUrl = '';var pfHeaderTagline = '';var pfdisableClickToDel = 0;var pfHideImages = 0;var pfImageDisplayStyle = 'right';var pfDisablePDF = 0;var pfDisableEmail = 0;var pfDisablePrint = 0;var pfCustomCSS = '';var pfBtVersion='1';(function(){var js, pf;pf = document.createElement('script');pf.type = 'text/javascript';if ('https:' === document.location.protocol){js='https://pf-cdn.printfriendly.com/ssl/main.js'}else{js='http://cdn.printfriendly.com/printfriendly.js'}pf.src=js;document.getElementsByTagName('head')[0].appendChild(pf)})();</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="script.js"></script>
</body>
</html>